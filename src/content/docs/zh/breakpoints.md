---
title: 断点和图片
description: 为什么一些（但不是全部）断点对你的图片很重要
taskInputHash: d17c3598ea10cc91
lang: zh
---
### 背景

小屏幕和大显示器需要不同的布局。为了使用 `srcset` 和 `sizes`，我们需要确定视口宽度在哪些点上进行布局更改。

Web 开发人员必须决定在较小的屏幕上缩小、隐藏或重新定位什么，或在较大的屏幕上扩展、显示或添加什么。他们拥有的信息非常少。用户是在平板电脑上还是处于横向模式的手机上，还是在小的浏览器窗口中？

我们必须选择一个任意的视口宽度，在这个宽度上进行布局更改。这称为**断点**。它是 CSS 像素的任意数量（[而不是设备像素](/zh/pixels-not-pixels)）。Polypane 有一篇[很棒的文章](https://polypane.app/blog/the-breakpoints-we-tested-in-2021-and-the-ones-to-test-in-2022/#the-breakpoints-to-develop-on-in-2023)，介绍了常用的断点。

有些图片（例如徽标、图标或按钮）可能不受这些断点引起的布局变化的影响（并且使用[srcset密度描述符](/zh/density-descriptors)也很好）。

主要内容图片将受到其容器大小的限制。通常页面的主要内容区域在最大的屏幕上会限制到某个宽度，即`max-width`，但在小屏幕上，主要内容区域将填充整个视口。

如果在某些断点中有多列，则计算有效的大小规则将变得更加困难，因为图像占用的视口宽度百分比将会改变。

### 简单方法

话虽如此，不要过于复杂。你可能会非常满意以下近似值：

1. 主列（或图像的容器）停止增长的大小是多少？在这个视口宽度上，我们可以使用 `100vw` 作为图像的 `sizes` 属性，表示图像占用整个视口的宽度。
2. 容器可以达到的最大宽度是多少？我们可以将其设置为固定的 `width`，适用于其他所有情况。

如果你对问题 1 的回答是 700px，对问题 2 的回答是 800px，那么你可以使用以下 `sizes` 属性：

```html
<!-- 这些是 CSS 像素，不是设备像素或图像像素。 -->
<img [...] sizes="(max-width: 700px) 100vw, 800px"  />
```


> 你可能认为浏览器可以根据 CSS 为我们处理所有这些计算。不幸的是，浏览器在下载样式表之前非常渴望选择图像 URL。因此我们必须自己进行计算，如果计算不完美，他们就会受到惩罚，也是他们活该。
