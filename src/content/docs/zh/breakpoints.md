---
title: 断点和图像
description: 为什么您的图像会受到某些（但不是所有）断点的影响
taskInputHash: ce7f991fbad25211
lang: zh
---
### 背景

小屏幕和大屏幕需要不同的布局。为了使用 `srcset` 和 `sizes`，我们需要知道何时布局会发生变化。

Web 开发者必须决定在较小的屏幕上缩小、隐藏或重新定位什么——或者更常见的是，在较大的屏幕上扩展、揭示或添加什么。他们也几乎没有什么信息。用户是在平板电脑上还是在横向模式的手机上——还是在小浏览器窗口中？

我们必须选择一个布局更改的任意视口宽度。这被称为**断点**。它是 CSS 像素数的任意数（[不是设备像素](/zh-cn/pixels-not-pixels)）。Polypane 有一篇[很棒的文章](https://polypane.app/blog/the-breakpoints-we-tested-in-2021-and-the-ones-to-test-in-2022/#the-breakpoints-to-develop-on-in-2023)，介绍了常用的断点。

一些图像（例如标志、图标或按钮）可能免受这些断点引起的布局变化的影响（并且可以使用[srcset密度标识符](/zh-cn/density-descriptors)来处理）。

主要内容图像将受到其容器大小的限制。通常，页面的主要内容区域在最大的屏幕上会被限制在特定宽度上，即 `max-width`，但是在小屏幕上，主要内容区域将填充整个视口。

如果在某些断点上有多个列，那么计算有效的大小规则将变得更加困难，因为图片所占的视口宽度百分比将发生变化。

### 简单方法

话虽如此，不要过度思考。您可能会非常满意以下近似值：

1. 主列（或图像的容器）的大小在哪个尺寸上停止增长？在该视口宽度上，我们可以在图像的 `sizes` 属性中使用 `100vw` 来表示图像占用整个视口 100%。  
2. 容器能达到的最大宽度是多少？我们可以将其设置为其他所有内容的固定 `width`。

如果你的答案 1 是 700 像素，答案 2 是 800 像素，您可以使用以下 `sizes` 属性：

```html
<!-- 这些是 CSS 像素，不是设备像素或图像像素。 -->
<img [...] sizes="(max-width: 700px) 100vw, 800px" />
```

> 你会认为浏览器可以根据 CSS 优雅地处理所有这些计算。不幸的是，浏览器急于在样式表下载之前选择图像 URL。因此，我们必须自己计算，如果我们不能完美地计算，也没什么关系。
